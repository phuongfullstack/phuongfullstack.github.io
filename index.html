<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phuong (@phuongfullstack) | Elite .NET Full-Stack Architect | Micro-Frontend Communication Demo</title>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        :root {
            --primary-color: #0078D4;
            --secondary-color: #50e3c2;
            --angular-color: #DD0031;
            --ember-color: #E04E39; /* Ember Orange */
            --background-light: #f8f9fa;
            --background-dark: #2c3e50;
            --card-background: #ffffff;
            --text-light: #f8f9fa;
            --text-dark: #343a40;
            --text-muted: #6c757d;
            --heading-font: 'Poppins', sans-serif;
            --body-font: 'Roboto', sans-serif;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --box-shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.15);
            --border-radius: 8px;
            --transition-speed: 0.3s ease;
        }
        /* ... (Keep all your existing CSS rules) ... */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: var(--body-font); line-height: 1.7; background-color: var(--background-light); color: var(--text-dark); }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 1.5em; }
        .hero { background: linear-gradient(135deg, var(--primary-color) 0%, var(--background-dark) 100%); color: var(--text-light); padding: 6em 0 4em 0; text-align: center; position: relative; overflow: hidden; }
        .hero::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); opacity: 0.5; }
        .hero-content { position: relative; }
        .hero h1 { font-family: var(--heading-font); font-size: clamp(2.5rem, 6vw, 4rem); margin-bottom: 0.2em; font-weight: 700; }
        .hero h1 .highlight { color: var(--secondary-color); font-weight: 700; }
        .hero p { font-size: clamp(1rem, 2.5vw, 1.3rem); margin-bottom: 1.5em; font-weight: 300; max-width: 700px; margin-left: auto; margin-right: auto; }
        .cta-button { display: inline-block; background-color: var(--secondary-color); color: var(--background-dark); padding: 0.8em 1.8em; border-radius: 50px; text-decoration: none; font-weight: 700; transition: var(--transition-speed); box-shadow: var(--box-shadow); }
        .cta-button:hover { background-color: var(--text-light); transform: translateY(-3px); box-shadow: var(--box-shadow-hover); }
        .section { padding: 4em 0; }
        .section-title { text-align: center; font-family: var(--heading-font); font-size: 2.5rem; margin-bottom: 1.5em; color: var(--primary-color); position: relative; }
        .section-title::after { content: ''; display: block; width: 80px; height: 4px; background-color: var(--secondary-color); margin: 0.3em auto 0; border-radius: 2px; }
        .expertise-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2em; }
        .expertise-card { background-color: var(--card-background); padding: 2em; border-radius: var(--border-radius); box-shadow: var(--box-shadow); text-align: center; transition: var(--transition-speed); border-top: 5px solid transparent; }
        .expertise-card:hover { transform: translateY(-8px); box-shadow: var(--box-shadow-hover); border-top-color: var(--primary-color); }
        .expertise-card .icon { font-size: 3rem; color: var(--primary-color); margin-bottom: 0.5em; transition: var(--transition-speed); }
        .expertise-card:hover .icon { color: var(--secondary-color); transform: scale(1.1); }
        .expertise-card h3 { font-family: var(--heading-font); font-size: 1.4rem; margin-bottom: 0.5em; color: var(--text-dark); }
        .expertise-card p { font-size: 0.95rem; color: var(--text-muted); }
        .approach-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5em; list-style: none; }
        .approach-item { background: var(--card-background); padding: 1.5em; border-radius: var(--border-radius); box-shadow: var(--box-shadow); display: flex; align-items: flex-start; transition: var(--transition-speed); }
        .approach-item:hover { transform: scale(1.03); box-shadow: var(--box-shadow-hover); }
        .approach-item .icon { font-size: 1.8rem; color: var(--primary-color); margin-right: 1em; margin-top: 0.1em; min-width: 30px; text-align: center; }
        .approach-item .content strong { font-weight: 700; color: var(--text-dark); display: block; margin-bottom: 0.2em; }
        .approach-item .content span { font-size: 0.95rem; color: var(--text-muted); }
        .footer { background-color: var(--background-dark); color: var(--text-light); text-align: center; padding: 2em 0; margin-top: 4em; font-size: 0.9rem; }
        .footer p { margin-bottom: 0.5em; opacity: 0.8; }
        .footer a { color: var(--secondary-color); margin: 0 0.5em; font-size: 1.5rem; transition: var(--transition-speed); }
        .footer a:hover { color: var(--text-light); transform: translateY(-2px); }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .section-title, .expertise-card, .approach-item { opacity: 1; }
        @media (max-width: 768px) { .section-title { font-size: 2rem; } .expertise-grid, .approach-list { grid-template-columns: 1fr; } .hero { padding: 4em 0 3em 0; } }

        /* Micro-frontend placeholder styles */
        .mfe-placeholder {
            border: 2px dashed var(--primary-color);
            padding: 1.5em;
            margin-top: 2em;
            border-radius: var(--border-radius);
            background-color: #f0f8ff;
        }
        .mfe-placeholder h4 {
             font-family: var(--heading-font);
             color: var(--primary-color);
             margin-bottom: 0.5em;
             border-bottom: 1px solid var(--secondary-color);
             padding-bottom: 0.3em;
        }
        /* Specific styles for placeholders */
        #angular-mfe-root { border-color: var(--angular-color); background-color: #fff0f0; }
        #angular-mfe-root h4 { color: var(--angular-color); border-bottom-color: var(--angular-color); }
        #ember-mfe-root { border-color: var(--ember-color); background-color: #fff5f3; } /* New */
        #ember-mfe-root h4 { color: var(--ember-color); border-bottom-color: var(--ember-color); } /* New */

        /* Counter Display Style */
        .counter-display {
            font-size: 2rem;
            font-weight: bold;
            color: var(--ember-color);
            text-align: center;
            margin: 0.5em 0;
        }
        /* Button styles for controllers */
        .mfe-controls button {
            padding: 8px 15px;
            margin: 0 5px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            border: none;
            transition: background-color 0.2s ease;
        }
        .mfe-controls .increment-btn { background-color: #28a745; color: white; }
        .mfe-controls .decrement-btn { background-color: #dc3545; color: white; }
        .mfe-controls .increment-btn:hover { background-color: #218838; }
        .mfe-controls .decrement-btn:hover { background-color: #c82333; }

    </style>

    <!-- Framework Runtimes (Keep React, Vue, Babel) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Svelte, Angular, Ember are simulated -->

</head>
<body>

    <header class="hero">
        <!-- ... hero content ... -->
         <div class="hero-content container">
            <h1>Phuong <span class="highlight">(@phuongfullstack)</span></h1>
            <p>Elite .NET Full-Stack Architect | Crafting Robust, Scalable & Secure Digital Solutions</p>
            <a href="#contact" class="cta-button">Let's Collaborate</a>
        </div>
    </header>

    <main>
        <!-- Existing Sections -->
        <section id="expertise" class="section container">
            <!-- ... expertise content ... -->
             <h2 class="section-title">My Expertise</h2>
             <div class="expertise-grid">
                <div class="expertise-card"> <div class="icon"><i class="fas fa-laptop-code"></i></div> <h3>Frontend Development</h3> <p>Building intuitive & engaging UIs with Blazor, React, Angular, Vue, HTML5, CSS3, JS/TS.</p> </div>
                <div class="expertise-card"> <div class="icon"><i class="fas fa-server"></i></div> <h3>Backend .NET Mastery</h3> <p>Architecting scalable ASP.NET Core APIs, clean C# code, optimized EF Core (SQL/NoSQL).</p> </div>
                <div class="expertise-card"> <div class="icon"><i class="fas fa-cloud-upload-alt"></i></div> <h3>DevOps & Cloud</h3> <p>Streamlining CI/CD (Azure DevOps/GitHub Actions), Docker containerization & Azure deployment.</p> </div>
                <div class="expertise-card"> <div class="icon"><i class="fas fa-tachometer-alt"></i></div> <h3>Performance Tuning</h3> <p>Optimizing database queries, implementing caching, lazy loading & async patterns.</p> </div>
                <div class="expertise-card"> <div class="icon"><i class="fas fa-shield-alt"></i></div> <h3>Application Security</h3> <p>Implementing robust security practices (AuthN/AuthZ, XSS, CSRF, SQLi prevention).</p> </div>
                 <div class="expertise-card"> <div class="icon"><i class="fas fa-project-diagram"></i></div> <h3>Solution Architecture</h3> <p>Designing end-to-end solutions that meet business goals and technical requirements.</p> </div>
            </div>
        </section>
        <section id="approach" class="section" style="background-color: #eef;">
            <!-- ... approach content ... -->
             <div class="container">
                <h2 class="section-title">My Collaborative Approach</h2>
                 <ul class="approach-list">
                    <li class="approach-item"> <i class="fas fa-comments icon"></i> <div class="content"><strong>Explain concepts clearly:</strong> <span>Breaking down complex topics into understandable insights.</span></div> </li>
                    <li class="approach-item"> <i class="fas fa-balance-scale-right icon"></i> <div class="content"><strong>Suggest options (pros/cons):</strong> <span>Empowering you with informed choices through clear analysis.</span></div> </li>
                    <li class="approach-item"> <i class="fas fa-code icon"></i> <div class="content"><strong>Provide quality code:</strong> <span>Delivering complete, readable, and well-commented solutions (front & back).</span></div> </li>
                    <li class="approach-item"> <i class="fas fa-vials icon"></i> <div class="content"><strong>Suggest testing strategies:</strong> <span>Advising on effective QA with tools like xUnit, NUnit, Moq.</span></div> </li>
                    <li class="approach-item"> <i class="fas fa-rocket icon"></i> <div class="content"><strong>Advise on performance:</strong> <span>Guiding optimization for speed (query opt., caching, lazy loading).</span></div> </li>
                    <li class="approach-item"> <i class="fas fa-user-shield icon"></i> <div class="content"><strong>Highlight security:</strong> <span>Proactively addressing vulnerabilities (XSS, CSRF, SQLi).</span></div> </li>
                     <li class="approach-item"> <i class="fas fa-question-circle icon"></i> <div class="content"><strong>Ask clarifying questions:</strong> <span>Ensuring full requirement alignment before implementation.</span></div> </li>
                     <li class="approach-item"> <i class="fas fa-handshake icon"></i> <div class="content"><strong>Professional & Friendly Tone:</strong> <span>Maintaining positive, collaborative communication, ready to elaborate.</span></div> </li>
                </ul>
            </div>
        </section>

        <!-- === Micro-frontend Mount Points & Counter Display === -->
        <section id="micro-frontends-demo" class="section container">
            <h2 class="section-title">Micro-Frontend Communication Demo</h2>
            <p style="text-align: center; max-width: 700px; margin: -1em auto 2em auto; color: var(--text-muted);">
                The Ember component below displays a shared counter. The other components have buttons to modify it using Custom Events.
            </p>

            <!-- 5. Ember Mount Point & Counter Display (NEW/MODIFIED) -->
            <div id="ember-mfe-root" class="mfe-placeholder">
                <h4>Ember Counter Display (Simulated)</h4>
                <p>This area shows the shared counter value, updated via events.</p>
                <div class="counter-display">
                    Counter: <span id="ember-counter-value">0</span> <!-- Display area -->
                </div>
                <!-- Note: A real Ember app would use templates (Handlebars) and components -->
            </div>

            <!-- 1. React Mount Point (with Controls) -->
            <div id="react-mfe-root" class="mfe-placeholder">
                <h4>React Component Area</h4>
                <p>Loading React component...</p>
                {/* Controls will be added by React */}
            </div>

            <!-- 2. Vue Mount Point (with Controls) -->
            <div id="vue-mfe-root" class="mfe-placeholder">
                <h4>Vue Component Area</h4>
                 {{ vueMessage }}
                 {/* Controls will be added by Vue */}
            </div>

            <!-- 3. Svelte Mount Point (with Controls) -->
            <div id="svelte-mfe-root" class="mfe-placeholder">
                <h4>Svelte Component Area (Simulated)</h4>
                 <p>Loading Svelte component...</p>
                 {/* Controls will be added by simulation script */}
            </div>

            <!-- 4. Angular Mount Point (with Controls) -->
            <div id="angular-mfe-root" class="mfe-placeholder">
                <h4>Angular Component Area (Simulated)</h4>
                 <p>Loading Angular component...</p>
                 {/* Controls will be added by simulation script */}
            </div>
        </section>
        <!-- === End Mount Points === -->

        <!-- Optional Contact Section -->
        <section id="contact" class="section container" style="text-align: center;">
             <!-- ... contact content ... -->
              <h2 class="section-title">Let's Build Something Exceptional</h2>
             <p style="max-width: 600px; margin: 0 auto 2em auto; color: var(--text-muted);"> Whether you need help with a specific challenge, architectural guidance, or end-to-end development, I'm ready to partner with you. </p>
             <a href="mailto:your-email@example.com?subject=Collaboration Inquiry from GitHub Profile" class="cta-button" style="background-color: var(--primary-color); color: var(--text-light);"> <i class="fas fa-envelope"></i> Get In Touch </a>
         </section>
    </main>

    <footer class="footer">
        <!-- ... footer content ... -->
        <p>&copy; 2025 Phuong (@phuongfullstack). All rights reserved.</p>
        <p>Last Updated: 2025-04-20 10:51:52 UTC</p> <!-- Updated Timestamp -->
    </footer>

    <!-- === SHARED COUNTER LOGIC & EVENT BUS === -->
    <script>
        let sharedCounterValue = 0; // The single source of truth

        // Function to dispatch the update event
        function dispatchCounterUpdate() {
            console.log(`Dispatching counter-updated event with value: ${sharedCounterValue}`);
            const event = new CustomEvent('counter-updated', {
                detail: { value: sharedCounterValue } // Pass the new value in the event detail
            });
            document.dispatchEvent(event);
        }

        // Listen for increment requests
        document.addEventListener('increment-counter', () => {
            sharedCounterValue++;
            console.log('Increment request received. New value:', sharedCounterValue);
            dispatchCounterUpdate(); // Notify listeners
        });

        // Listen for decrement requests
        document.addEventListener('decrement-counter', () => {
            sharedCounterValue--;
            console.log('Decrement request received. New value:', sharedCounterValue);
            dispatchCounterUpdate(); // Notify listeners
        });

        // Initial dispatch in case components load after this script
        // dispatchCounterUpdate(); // Optional: Can cause initial render issues if elements aren't ready
    </script>
    <!-- === END SHARED COUNTER LOGIC === -->


    <!-- === Micro-frontend Mounting Scripts (MODIFIED) === -->

    <!-- 1. React Mounting Script (Added Buttons & Event Dispatch) -->
    <script type="text/babel">
      function ReactCounterControls() {
        const increment = () => {
          console.log('React: Dispatching increment-counter');
          document.dispatchEvent(new CustomEvent('increment-counter'));
        };
        const decrement = () => {
          console.log('React: Dispatching decrement-counter');
          document.dispatchEvent(new CustomEvent('decrement-counter'));
        };

        return (
          <div className="mfe-controls" style={{ marginTop: '1em', textAlign: 'center' }}>
            <button onClick={decrement} className="decrement-btn">-</button>
            <button onClick={increment} className="increment-btn">+</button>
          </div>
        );
      }

      const reactRootElement = document.getElementById('react-mfe-root');
      const reactRoot = ReactDOM.createRoot(reactRootElement);
      reactRoot.render(
        <React.Fragment>
           <h4>React Component Area</h4>
           <p>Controls to modify the shared counter:</p>
           <ReactCounterControls />
        </React.Fragment>
      );
    </script>

    <!-- 2. Vue 3 Mounting Script (Added Buttons & Event Dispatch) -->
    <script>
      const vueApp = Vue.createApp({
        data() {
          return {
            vueMessage: 'Controls to modify the shared counter:'
          }
        },
        methods: {
          increment() {
            console.log('Vue: Dispatching increment-counter');
            document.dispatchEvent(new CustomEvent('increment-counter'));
          },
          decrement() {
            console.log('Vue: Dispatching decrement-counter');
            document.dispatchEvent(new CustomEvent('decrement-counter'));
          }
        },
        template: `
          <div>
            <p>{{ vueMessage }}</p>
            <div class="mfe-controls" style="margin-top: 1em; text-align: center;">
              <button @click="decrement" class="decrement-btn">-</button>
              <button @click="increment" class="increment-btn">+</button>
            </div>
          </div>
        `
      });
      const vueRootElement = document.getElementById('vue-mfe-root');
      vueRootElement.innerHTML = '<h4>Vue Component Area</h4>'; // Keep title
      vueApp.mount('#vue-mfe-root');
    </script>

    <!-- 3. Svelte Mounting Script (Simulation - Added Buttons & Event Dispatch) -->
    <script>
      const svelteRootElement = document.getElementById('svelte-mfe-root');
      svelteRootElement.innerHTML = `
          <h4>Svelte Component Area (Simulated)</h4>
          <p>Controls to modify the shared counter:</p>
          <div class="mfe-controls" style="margin-top: 1em; text-align: center;">
              <button id="svelte-decrement-btn" class="decrement-btn">-</button>
              <button id="svelte-increment-btn" class="increment-btn">+</button>
          </div>
      `;
      document.getElementById('svelte-increment-btn').addEventListener('click', () => {
          console.log('Svelte (Sim): Dispatching increment-counter');
          document.dispatchEvent(new CustomEvent('increment-counter'));
      });
       document.getElementById('svelte-decrement-btn').addEventListener('click', () => {
          console.log('Svelte (Sim): Dispatching decrement-counter');
          document.dispatchEvent(new CustomEvent('decrement-counter'));
      });
    </script>

    <!-- 4. Angular Mounting Script (Simulation - Added Buttons & Event Dispatch) -->
    <script>
      const angularRootElement = document.getElementById('angular-mfe-root');
      angularRootElement.innerHTML = `
          <h4>Angular Component Area (Simulated)</h4>
          <p>Controls to modify the shared counter:</p>
           <div class="mfe-controls" style="margin-top: 1em; text-align: center;">
              <button id="angular-decrement-btn" class="decrement-btn">-</button>
              <button id="angular-increment-btn" class="increment-btn">+</button>
          </div>
      `;
       document.getElementById('angular-increment-btn').addEventListener('click', () => {
          console.log('Angular (Sim): Dispatching increment-counter');
          document.dispatchEvent(new CustomEvent('increment-counter'));
      });
       document.getElementById('angular-decrement-btn').addEventListener('click', () => {
          console.log('Angular (Sim): Dispatching decrement-counter');
          document.dispatchEvent(new CustomEvent('decrement-counter'));
      });
    </script>

    <!-- 5. Ember Mounting Script (Simulation - Added Event Listener) -->
    <script>
      const emberCounterDisplayElement = document.getElementById('ember-counter-value');

      // Listen for the update event dispatched by the central logic
      document.addEventListener('counter-updated', (event) => {
          const newValue = event.detail.value;
          console.log(`Ember (Sim): Received counter-updated event with value: ${newValue}`);
          if (emberCounterDisplayElement) {
              emberCounterDisplayElement.textContent = newValue; // Update the display
          }
      });

      // Initialize display (optional, could rely on first event)
      if (emberCounterDisplayElement) {
           emberCounterDisplayElement.textContent = sharedCounterValue;
      }
       console.log('Ember (Sim): Initialized and listening for counter updates.');

    </script>
    <!-- === End Micro-frontend Mounting Scripts === -->

</body>
</html>
